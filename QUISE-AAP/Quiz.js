let questions = {
  sports: [
    {
      question: "Q1.Who won the 2011 ICC Cricket World Cup?",
      options: ["Australia", "Sri Lanka", "India", "Pakistan"],
      answer: 2,
    },
    {
      question:
        "Q2.Who is the first Indian to win an individual Olympic gold medal?",
      options: [
        "Abhinav Bindra",
        "Sushil Kumar",
        "Vijender Singh",
        "P.V. Sindhu",
      ],
      answer: 0,
    },
    {
      question: "Q3.Which Indian city hosted the 2010 Commonwealth Games?",
      options: ["Mumbai", "Bangalore", "Delhi", "Hyderabad"],
      answer: 2,
    },
    {
      question:
        "Q4.Who is the first Indian badminton player to win an Olympic silver medal?",
      options: [
        "Saina Nehwal",
        "P.V. Sindhu",
        "Kidambi Srikanth",
        "Parupalli Kashyap",
      ],
      answer: 1,
    },
    {
      question:
        "Q5.Which team won the inaugural Indian Premier League (IPL) in 2008?",
      options: [
        "Chennai Super Kings",
        "Mumbai Indians",
        "Rajasthan Royals",
        "Royal Challengers Bangalore",
      ],
      answer: 2,
    },
    {
      question:
        "Q6.Who was the captain of the Indian cricket team when they won the 2007 ICC T20 World Cup?",
      options: ["Rahul Dravid", "Sourav Ganguly", "MS Dhoni", "Virat Kohli"],
      answer: 2,
    },
    {
      question:
        "Q7.Who became the first Indian woman to win a medal in the Olympics?",
      options: ["P.T. Usha", "Mary Kom", "Karnam Malleswari", "P.V. Sindhu"],
      answer: 2,
    },
    {
      question:
        "Q8.Which Indian hockey player is known as 'The Wizard' for his incredible skills?",
      options: [
        "Sandeep Singh",
        "Dhyan Chand",
        "Pargat Singh",
        "Balbir Singh Sr.",
      ],
      answer: 1,
    },
    {
      question:
        "Q9.In which year did India win its first ever Hockey World Cup?",
      options: ["1975", "1982", "1968", "1956"],
      answer: 0,
    },
    {
      question: "Q10.Who won the 2020 IPL title?",
      options: [
        "Delhi Capitals",
        "Mumbai Indians",
        "Chennai Super Kings",
        "Sunrisers Hyderabad",
      ],
      answer: 1,
    },
  ],
  movies: [
    {
      question: "Q1.Who directed the movie 'Lagaan'?",
      options: [
        "Karan Johar",
        "Sanjay Leela Bhansali",
        "Ashutosh Gowariker",
        "Anurag Kashyap",
      ],
      answer: 2,
    },
    {
      question:
        "Q2.In which movie does Shah Rukh Khan play the character 'Raj Malhotra'?",
      options: [
        "Dilwale Dulhania Le Jayenge",
        "Kabhi Khushi Kabhie Gham",
        "Baazigar",
        "Kuch Kuch Hota Hai",
      ],
      answer: 0,
    },
    {
      question: "Q3.Who played the character 'Alauddin Khilji' in 'Padmaavat'?",
      options: [
        "Ranveer Singh",
        "Shahid Kapoor",
        "Hrithik Roshan",
        "Ajay Devgn",
      ],
      answer: 0,
    },
    {
      question: "Q4.Which was India's first feature-length film?",
      options: [
        "Mughal-e-Azam",
        "Raja Harishchandra",
        "Mother India",
        "Sholay",
      ],
      answer: 1,
    },
    {
      question:
        "Q5.Which Bollywood movie won the Academy Award for Best Foreign Language Film?",
      options: ["Mother India", "Lagaan", "Salaam Bombay!", "None of these"],
      answer: 3,
    },
    {
      question: "Q6.Who is the female lead in the movie 'Queen'?",
      options: [
        "Deepika Padukone",
        "Alia Bhatt",
        "Kangana Ranaut",
        "Priyanka Chopra",
      ],
      answer: 2,
    },
    {
      question:
        "Q7.In which movie does Amitabh Bachchan play the role of a strict father named 'Narayan Shankar'?",
      options: ["Mohabbatein", "Kabhi Khushi Kabhie Gham", "Baghban", "Paa"],
      answer: 0,
    },
    {
      question: "Q8.Which film is famous for the dialogue 'Mogambo Khush Hua'?",
      options: ["Don", "Mr. India", "Sholay", "Zanjeer"],
      answer: 1,
    },
    {
      question: "Q9.Who directed the movie 'Gangs of Wasseypur'?",
      options: [
        "Vishal Bhardwaj",
        "Anurag Kashyap",
        "Imtiaz Ali",
        "Rajkumar Hirani",
      ],
      answer: 1,
    },
    {
      question:
        "Q10.Which actor played the role of 'Bajirao' in the movie 'Bajirao Mastani'?",
      options: [
        "Ranveer Singh",
        "Shah Rukh Khan",
        "Salman Khan",
        "Saif Ali Khan",
      ],
      answer: 0,
    },
  ],
  science: [
    {
      question: "Q1.Who is known as the father of the Indian space program?",
      options: [
        "C.V. Raman",
        "APJ Abdul Kalam",
        "Vikram Sarabhai",
        "Homi J. Bhabha",
      ],
      answer: 2,
    },
    {
      question:
        "Q2.What is the chemical symbol for the element discovered by Indian scientist Shanti Swarup Bhatnagar?",
      options: ["Li", "Ti", "Fr", "Zr"],
      answer: 3,
    },
    {
      question:
        "Q3.Which is the heaviest naturally occurring element on Earth?",
      options: ["Uranium", "Lead", "Gold", "Platinum"],
      answer: 0,
    },
    {
      question: "Q4.Who was the first Indian to win a Nobel Prize in Physics?",
      options: [
        "C.V. Raman",
        "Homi J. Bhabha",
        "Subrahmanyan Chandrasekhar",
        "Jagadish Chandra Bose",
      ],
      answer: 0,
    },
    {
      question:
        "Q5.What is the unit of force in the International System of Units (SI)?",
      options: ["Pascal", "Newton", "Joule", "Watt"],
      answer: 1,
    },
    {
      question:
        "Q6.Which Indian scientist is known for pioneering wireless communication technology?",
      options: [
        "C.V. Raman",
        "Homi J. Bhabha",
        "Jagadish Chandra Bose",
        "Satyendra Nath Bose",
      ],
      answer: 2,
    },
    {
      question:
        "Q7.Which Indian organization is responsible for the Mars Orbiter Mission (Mangalyaan)?",
      options: ["ISRO", "DRDO", "BHEL", "BARC"],
      answer: 0,
    },
    {
      question:
        "Q8.What is the hardest naturally occurring substance on Earth?",
      options: ["Graphite", "Diamond", "Quartz", "Corundum"],
      answer: 1,
    },
    {
      question:
        "Q9.Which Indian mathematician is known for his contributions to number theory and infinity series?",
      options: [
        "Srinivasa Ramanujan",
        "Aryabhata",
        "C.V. Raman",
        "P.C. Mahalanobis",
      ],
      answer: 0,
    },
    {
      question:
        "Q10.What is the study of Earth's atmosphere and weather called?",
      options: ["Geology", "Astronomy", "Meteorology", "Ecology"],
      answer: 2,
    },
  ],

  gk: [
    {
      question: "Q1.Who was the first Prime Minister of India?",
      options: [
        "Mahatma Gandhi",
        "Jawaharlal Nehru",
        "Indira Gandhi",
        "Sardar Vallabhbhai Patel",
      ],
      answer: 1,
    },
    {
      question: "Q2.Which river is the longest in India?",
      options: ["Yamuna", "Narmada", "Ganga", "Godavari"],
      answer: 2,
    },
    {
      question: "Q3.In which year did India gain independence?",
      options: ["1942", "1945", "1947", "1950"],
      answer: 2,
    },
    {
      question: "Q4.Who is known as the 'Missile Man of India'?",
      options: [
        "Vikram Sarabhai",
        "APJ Abdul Kalam",
        "Homi J. Bhabha",
        "Satish Dhawan",
      ],
      answer: 1,
    },
    {
      question: "Q5.Which is the national animal of India?",
      options: ["Lion", "Elephant", "Bengal Tiger", "Peacock"],
      answer: 2,
    },
    {
      question: "Q6.Which Indian state is known as the 'Land of Rising Sun'?",
      options: ["Assam", "Sikkim", "Arunachal Pradesh", "Meghalaya"],
      answer: 2,
    },
    {
      question: "Q7.Who wrote the national anthem of India?",
      options: [
        "Bankim Chandra Chatterjee",
        "Rabindranath Tagore",
        "Sarojini Naidu",
        "Sardar Patel",
      ],
      answer: 1,
    },
    {
      question: "Q8.Which is the largest state in India by area?",
      options: ["Uttar Pradesh", "Rajasthan", "Madhya Pradesh", "Maharashtra"],
      answer: 1,
    },
    {
      question:
        "Q9.Which is the only Indian state where the Asiatic lion is found?",
      options: ["Rajasthan", "Karnataka", "Madhya Pradesh", "Gujarat"],
      answer: 3,
    },
    {
      question: "Q10.Who is called the 'Iron Man of India'?",
      options: [
        "Bal Gangadhar Tilak",
        "Subhas Chandra Bose",
        "Sardar Vallabhbhai Patel",
        "Bhagat Singh",
      ],
      answer: 2,
    },
  ],

  // Add 'science' and 'gk' questions here similarly
};

let currentQuestionIndex = 0;
let score = 0;
let category = "";
let timerInterval;
let timeLeft = 10;
let totalTimeTaken = 0;
let startTime;
let userName = "";

function goToCategory() {
  userName = document.getElementById("username").value;
  if (!userName) {
    alert("Bhai, naam daal pehle!");
    return;
  }

  document.getElementById("name-input").classList.add("hidden");
  document.getElementById("category-page").classList.remove("hidden");
  document.getElementById("user-name-display").innerText = userName;
}

function startQuiz(selectedCategory) {
  document.getElementById("category-page").classList.add("hidden");
  document.getElementById("quiz").classList.remove("hidden");
  category = selectedCategory;
  document.getElementById("category-name").innerText = category;
  startTime = new Date().getTime(); // Start time for time tracking
  loadQuestion();
}

function loadQuestion() {
  clearInterval(timerInterval);
  let questionObj = questions[category][currentQuestionIndex];
  document.getElementById("question").innerText = questionObj.question;
  let optionsDiv = document.getElementById("options");
  optionsDiv.innerHTML = ""; // Clear previous options

  questionObj.options.forEach((option, index) => {
    let optionDiv = document.createElement("div");
    optionDiv.classList.add("option");
    optionDiv.innerText = option;
    optionDiv.onclick = () => selectAnswer(index);
    optionsDiv.appendChild(optionDiv);
  });

  startTimer();
  document.getElementById("next-btn").classList.add("hidden");
}

function startTimer() {
  timeLeft = 10;
  document.getElementById("timer").innerText = `Time: ${timeLeft}s`;
  timerInterval = setInterval(() => {
    timeLeft--;
    document.getElementById("timer").innerText = `Time: ${timeLeft}s`;
    if (timeLeft === 0) {
      clearInterval(timerInterval);
      checkAnswer(null); // Time's up
    }
  }, 1000);
}

function selectAnswer(selectedIndex) {
  clearInterval(timerInterval);
  checkAnswer(selectedIndex);
}

function checkAnswer(selectedIndex) {
  let correctAnswer = questions[category][currentQuestionIndex].answer;
  let options = document.querySelectorAll(".option");

  options.forEach((option) => option.classList.add("disabled")); // Disable further clicks
  options[correctAnswer].classList.add("correct"); // Correct answer is green
  if (selectedIndex !== null && selectedIndex !== correctAnswer) {
    options[selectedIndex].classList.add("wrong"); // Wrong answer is red
  }

  if (selectedIndex === correctAnswer) score++; // Update score
  document.getElementById("score-display").innerText = `Score: ${score}`; // Update real-time score display

  document.getElementById("next-btn").classList.remove("hidden");
}

function nextQuestion() {
  currentQuestionIndex++;
  if (currentQuestionIndex < questions[category].length) {
    loadQuestion();
  } else {
    endQuiz();
  }
}

function endQuiz() {
  let endTime = new Date().getTime();
  totalTimeTaken = Math.floor((endTime - startTime) / 1000); // Calculate total time taken

  document.getElementById("quiz").classList.add("hidden");
  document.getElementById("result").classList.remove("hidden");
  document.getElementById("score").innerText = score;
  document.getElementById("total-time").innerText = totalTimeTaken;
  document.getElementById("user-final-name").innerText = userName;
}

// Restart function to go back to category page
function restartToCategory() {
  currentQuestionIndex = 0;
  score = 0;
  category = "";
  document.getElementById("result").classList.add("hidden");
  document.getElementById("category-page").classList.remove("hidden");
}
// work well
var btnbox = document.getElementById("btn").addEventListener("click", () => {
  const nameInput = document.getElementById("username").value;

  if (!isNaN(nameInput) && nameInput.trim() !== "") {
    alert(" number mat daal!");
    location.reload(); // to refresh the page
  }
  // Ensure input has only alphabets
});
// work well

var hide = document.getElementById("btn").addEventListener("click", () => {
  document.querySelector(".style").style.height = "auto";
});
